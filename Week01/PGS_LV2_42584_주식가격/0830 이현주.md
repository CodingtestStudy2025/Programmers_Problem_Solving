# PGS_LV2_42584_주식가격[2025.08.30] </br>
문제 : https://school.programmers.co.kr/learn/courses/30/lessons/42584

<접근법>
```
주식이 모두 떨어지는 순간이 없는 경우로 answer를 init함. 언젠가 떨어질 지점들의 값만 수정하면 되니까
떨어지지 않는 경우에 stack해 x초들을 push하고 떨어지는 순간이 오면 pop해서 그 순간의 index와의 차이를 계산함 (그 차이 초 후에 떨어지는거니까)
현재 시점으로 인해 손해본 애들 다 털어 계산하기 위해 while 문 사용.
예) 1, 2, 3, 4, 2 ....
이렇게 주식값이 변동하면 5초 시점의 '2'를 가지고 3, 4초 시점 모두 stack에서 pop해서 초 차이로 answer 계산 가능
```

```python
def solution(prices):
    answer = []
    answer = [len(prices)-1-i for i in range(0, len(prices))]
    
    stack = []
    
    # stack.append(prices[0])
    stack.append(0) #index담아 
    
    for i in range(1, len(prices)):
        # if min(prices[i:]) != prices[i]:
        #     drop_point = prices.index(max(x for x in prices[i:] if x < prices[i]))
        #     answer[i] = answer[i]-drop_point
        while stack and prices[i] < prices[stack[-1]]: # 앞보다 떨어진 순간
            drop_point = stack.pop()
            answer[drop_point] = i - drop_point
        
        stack.append(i)
        
    return answer
```
